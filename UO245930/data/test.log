/*C3*/SET SCHEMA PUBLIC
DISCONNECT
/*C4*/SET SCHEMA PUBLIC
ALTER TABLE TTasks DROP CONSTRAINT FK_TTasks_USER_ID
ALTER TABLE TTasks DROP CONSTRAINT FK_TTasks_CATEGORY_ID
ALTER TABLE TCategories DROP CONSTRAINT FK_TCategories_USER_ID
DROP TABLE TUsers
DROP TABLE TTasks
DROP TABLE TCategories
CREATE TABLE TUsers (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, EMAIL VARCHAR(255), ISADMIN BOOLEAN, LOGIN VARCHAR(255), PASSWORD VARCHAR(255), STATUS INTEGER, PRIMARY KEY (ID))
CREATE TABLE TTasks (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, COMMENTS VARCHAR(255), CREATED DATE, FINISHED DATE, PLANNED DATE, TITLE VARCHAR(255), CATEGORY_ID BIGINT, USER_ID BIGINT, PRIMARY KEY (ID))
CREATE TABLE TCategories (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, NAME VARCHAR(255), USER_ID BIGINT, PRIMARY KEY (ID))
ALTER TABLE TTasks ADD CONSTRAINT FK_TTasks_USER_ID FOREIGN KEY (USER_ID) REFERENCES TUsers (ID)
ALTER TABLE TTasks ADD CONSTRAINT FK_TTasks_CATEGORY_ID FOREIGN KEY (CATEGORY_ID) REFERENCES TCategories (ID)
ALTER TABLE TCategories ADD CONSTRAINT FK_TCategories_USER_ID FOREIGN KEY (USER_ID) REFERENCES TUsers (ID)
DISCONNECT
